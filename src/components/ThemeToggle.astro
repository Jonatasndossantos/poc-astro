---
import { Sun, Moon } from "lucide-react";
---

<button
    class="theme-toggle-btn relative p-2 rounded-full transition-colors duration-300 hover:bg-gray-100 dark:hover:bg-white/10 text-gray-800 dark:text-gray-200"
    aria-label="Toggle Theme"
>
    <span class="dark:hidden">
        <Sun className="w-5 h-5" />
    </span>
    <span class="hidden dark:inline">
        <Moon className="w-5 h-5" />
    </span>
</button>

<script is:inline>
    (function () {
        const handleThemeToggle = () => {
            const currentTheme =
                document.documentElement.getAttribute("data-theme");
            const newTheme = currentTheme === "dark" ? "light" : "dark";

            document.documentElement.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
        };

        const themeToggleBtns = document.querySelectorAll(".theme-toggle-btn");
        themeToggleBtns.forEach((btn) => {
            btn.addEventListener("click", handleThemeToggle);
        });
    })();
</script>
